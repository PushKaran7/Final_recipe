<div mat-dialog-title class="header">
    <h1>{{data?'Edit Recipe':'Add New Recipe'}}</h1>

</div>
<div>
    <form [formGroup]="recipeForm" (ngSubmit)="onRecipeSubmit()">
        <div mat-dialog-content class="content">
            <div class="row">
                <mat-form-field class="example-full-width">
                    <mat-label>Title</mat-label>
                    <input matInput type="text" placeholder="Ex Pasta" formControlName="title">
                </mat-form-field>
                <mat-form-field class="example-full-width">
                    <mat-label>Time to prepare </mat-label>
                    <input matInput type="number" placeholder="Ex 4" formControlName="time_to_prepare">
                </mat-form-field>

            </div>
            <div class="row">
                <mat-form-field class="example-full-width">
                    <mat-label>Author</mat-label>
                    <input matInput type="text" placeholder="Ex karan" formControlName="author">
                </mat-form-field>
                <mat-form-field class="example-full-width">
                    <mat-label>Thumbnail Url </mat-label>
                    <input matInput type="text" placeholder="Ex 4" formControlName="thumbnail_url">
                </mat-form-field>

            </div>
            <!-- <div class="row">

                <h3>Ingredients</h3>
                <mat-icon aria-hidden="false" fontIcon="add" (click)="addIngredient()"></mat-icon>
                <div>


                    <div *ngFor="let ingredient of ingredientList; let i = index" class="row">
                        <mat-form-field class="example-full-width">
                            <mat-label>Name</mat-label>
                            <input matInput type="text" [(ngModel)]="ingredient.name" placeholder="Ingredient Name">
                        </mat-form-field>
                        <mat-form-field class="example-full-width">
                            <mat-label>Quantity</mat-label>
                            <input matInput type="number" [(ngModel)]="ingredient.quantity" placeholder="Quantity">
                        </mat-form-field>
                    </div>
                </div>

            </div> -->
            <div class="row">
                <h3>Ingredients</h3>
                <mat-icon aria-hidden="false" fontIcon="add" (click)="addIngredient()"></mat-icon>
                <div formArrayName="ingredients">  <!-- Bind the FormArray here -->
                    <div *ngFor="let ingredient of ingredients.controls; let i = index" [formGroupName]="i" class="row">
                        <mat-form-field class="example-full-width">
                            <mat-label>Name</mat-label>
                            <input matInput type="text" formControlName="name" placeholder="Ingredient Name">
                        </mat-form-field>
                        <mat-form-field class="example-full-width">
                            <mat-label>Quantity</mat-label>
                            <input matInput type="number" formControlName="quantity" placeholder="Quantity">
                        </mat-form-field>
                    </div>
                </div>
            </div>
            <div class="row">
                <mat-form-field class="example-full-width">
                    <mat-label>Description</mat-label>
                    <textarea matInput placeholder="Ex. Pasta is made by " formControlName="description"></textarea>
                </mat-form-field>

            </div>

        </div>
        <div mat-dialog-actions class="bottom">
            <button mat-raised-button type="button" (click)="closeit()">Cancel</button>
            <button mat-raised-button color="primary" type="submit">{{data?'Save':'Add'}}</button>
        </div>
    </form>
</div>